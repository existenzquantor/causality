#!/usr/bin/env swipl

:- initialization(main, main).

% Example call: ./causality "./examples/ex_butfor.pl" "a:a" "a" "not(p)"
main(Argv) :-
        writeln(Argv),
        nth0(0, Argv, Domain),
        nth0(1, Argv, ProgramAtom),
        term_to_atom(Program, ProgramAtom),
        nth0(2, Argv, ActionAtom),
        term_to_atom(Action, ActionAtom),
        nth0(3, Argv, FactAtom),
        term_to_atom(Fact, FactAtom),
        consult("./core/causality.pl"),
        consult(Domain), 
        but_for_cause(Program, Action, Fact, _) -> writeln("TRUE");writeln("FALSE").